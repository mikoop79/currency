(function(){"use strict";var e={732:function(e,t,s){var o=s(963),r=s(252),n=s(577);const a={class:"bg-gray-800"},l={class:"max-w-screen-xl px-4 mx-auto sm:px-6 lg:px-8"},i={class:"flex items-center justify-between h-16"},u={class:"flex items-center"},c=(0,r._)("div",{class:"flex-shrink-0"},[(0,r._)("img",{class:"w-8 h-8",src:"/images/logo.png",alt:"logo"})],-1),d={class:"hidden md:block"},g={class:"flex items-baseline ml-10"},p=["href","onClick"],m=(0,r._)("div",{class:"hidden md:block"},[(0,r._)("div",{class:"flex items-center ml-4 md:ml-6"},[(0,r._)("div",{class:"relative ml-3"})])],-1),h={class:"flex -mr-2 md:hidden"},f=(0,r._)("svg",{class:"block w-6 h-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1),v=(0,r._)("svg",{class:"hidden w-6 h-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),w=[f,v],x={class:"px-2 pt-2 pb-3 sm:px-3"},y=["href","onClick"],b=(0,r._)("div",{class:"pt-4 pb-3 border-t border-gray-700"},[(0,r._)("div",{class:"flex items-center px-5"})],-1),_={key:0,class:"bg-white shadow"},k={class:"max-w-screen-xl px-4 py-6 mx-auto sm:px-6 lg:px-8"},S={class:"text-3xl font-bold leading-tight text-gray-900"},C={class:"max-w-screen-xl py-6 mx-auto sm:px-6 lg:px-8"};function R(e,t,s,o,f,v){const R=(0,r.up)("router-link"),D=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("nav",a,[(0,r._)("div",l,[(0,r._)("div",i,[(0,r._)("div",u,[c,(0,r._)("div",d,[(0,r._)("div",g,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.links,((e,t)=>((0,r.wg)(),(0,r.j4)(R,{key:t,to:e.to,custom:""},{default:(0,r.w5)((({navigate:s,href:o,isExactActive:a})=>[(0,r._)("a",{href:o,class:(0,n.C_)(["px-3 py-2 text-sm font-medium rounded-md",[a?"text-white bg-gray-900 focus:outline-none focus:text-white focus:bg-gray-700":"text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700",t>0&&"ml-4"]]),onClick:s},(0,n.zw)(e.text),11,p)])),_:2},1032,["to"])))),128)),e.auth.check()?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"px-3 py-2 text-sm font-medium cursor-pointer rounded-md text-white bg-gray-900 focus:outline-none focus:text-white focus:bg-gray-700",onClick:t[0]||(t[0]=t=>e.logout().then((()=>e.showMenu=!1)))}," Logout ")):(0,r.kq)("",!0)])])]),m,(0,r._)("div",h,[(0,r._)("button",{class:"inline-flex items-center justify-center p-2 text-gray-400 rounded-md hover:text-white hover:bg-gray-700 focus:outline-none focus:bg-gray-700 focus:text-white",onClick:t[1]||(t[1]=t=>e.showMenu=!e.showMenu)},w)])])]),(0,r._)("div",{class:(0,n.C_)(["md:hidden",e.showMenu?"block":"hidden"])},[(0,r._)("div",x,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.links,((t,s)=>((0,r.wg)(),(0,r.j4)(R,{key:s,to:t.to,custom:""},{default:(0,r.w5)((({navigate:o,href:a,isExactActive:l})=>[(0,r._)("a",{href:a,class:(0,n.C_)(["block px-3 py-2 text-base font-medium rounded-md",[l?"text-white bg-gray-900 focus:outline-none focus:text-white focus:bg-gray-700":"text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700",s>0&&"mt-1"]]),onClick:t=>o().then((()=>e.showMenu=!1))},(0,n.zw)(t.text),11,y)])),_:2},1032,["to"])))),128)),e.auth.check()?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"px-3 py-2 text-sm font-medium rounded-md text-white bg-gray-900 focus:outline-none focus:text-white focus:bg-gray-700",onClick:t[2]||(t[2]=t=>e.logout().then((()=>e.showMenu=!1)))}," Logout ")):(0,r.kq)("",!0)]),b],2)]),e.$route.meta.title?((0,r.wg)(),(0,r.iD)("header",_,[(0,r._)("div",k,[(0,r._)("h1",S,(0,n.zw)(e.$route.meta.title),1)])])):(0,r.kq)("",!0),(0,r._)("div",C,[(0,r.Wm)(D)]),(0,r._)("div",null,(0,n.zw)(e.message),1)])}var D=s(669),j=s.n(D);class L{constructor(){j().get("/sanctum/csrf-cookie").then((e=>{}));let e=window.localStorage.getItem("user");this.user=e||null,this.checkRequest()}setUser(e,t){window.localStorage.setItem("user",JSON.stringify(t)),this.user=t}check(){return!!this.user}logout(){window.localStorage.clear(),this.user=null,window.routerInstance.push("/login")}checkRequest(){j().interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)}));let e=this;j().interceptors.response.use((function(e){return e}),(function(t){return 401===t.response.status&&e.logout(),Promise.reject(t)}))}getUser(){return this.user}}var M=new L,U=(0,r.aZ)({data:()=>({auth:M,message:"",showMenu:!1,showProfileMenu:!1,links:[{text:"Home",to:"/"},{text:"Login",to:"/login"},{text:"Register",to:"/register"}]}),methods:{logout(){M.logout(),j().post("/api/auth/logout").then((()=>{this.showMenu=!1;let e=this;setTimeout((function(){e.$router.push("/login")}),1e3)})).catch((e=>{this.message=e.message}))}}}),T=s(744);const O=(0,T.Z)(U,[["render",R]]);var V=O,H=s(262),P=s(938),q=s.n(P);const z=(0,r._)("h2",{class:"heading2"}," Generate report ",-1),Z={class:"select-dropdown"},N=(0,r._)("h2",{class:"heading2"}," My Completed reports ",-1),E=(0,r._)("hr",null,null,-1);function A(e,t,s,o,a,l){const i=(0,r.up)("v-select"),u=(0,r.up)("table-view2");return(0,r.wg)(),(0,r.iD)("div",null,[z,(0,r._)("div",Z,[(0,r.Wm)(i,{modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected=t),loading:e.reportTypesLoading,options:e.reportTypes},null,8,["modelValue","loading","options"]),(0,r.Wm)(i,{modelValue:e.report.currency,"onUpdate:modelValue":t[1]||(t[1]=t=>e.report.currency=t),loading:e.currenciesLoading,options:e.currencies},null,8,["modelValue","loading","options"]),(0,r._)("div",{class:"submitReport flex bg-gray-800 cursor-pointer items-center justify-center m-2 px-8 py-1 text-base text-white font-medium leading-6 text-black transition duration-150 ease-in-out bg-dark border-transparent rounded-md focus:outline-none focus:ring md:py-4 md:text-lg md:px-10",onClick:t[2]||(t[2]=(...t)=>e.saveReport&&e.saveReport(...t))}," Generate "),(0,r._)("div",null,(0,n.zw)(e.message),1)]),N,(0,r.Wm)(u),E])}function W(e,t,s,o,n,a){const l=(0,r.up)("table-lite");return(0,r.wg)(),(0,r.j4)(l,{"has-checkbox":!1,"is-loading":e.table.isLoading,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,messages:e.table.messages,onDoSearch:e.doSearch},null,8,["is-loading","columns","rows","total","messages","onDoSearch"])}var G=s(30);const I=(0,H.qj)({isLoading:!1,isReSearch:!1,columns:[{label:"ID",field:"id",width:"3%",sortable:!0,isKey:!0},{label:"Name",field:"name",width:"10%",sortable:!0,isKey:!0},{label:"Currency",field:"currency",width:"5%",sortable:!0},{label:"Date",field:"created_at",width:"7%"},{label:"Data",field:"data",width:"50%"}],rows:[],totalRecordCount:20,sortable:{order:"id",sort:"asc"},messages:{pagingInfo:"Showing {0}-{1} of {2}",pageSizeChangeLabel:"Row count:",gotoPageLabel:"Go to page:",noDataAvailable:"No data"}}),$=(e,t,s,o)=>{I.isLoading=!0,setTimeout((()=>{I.isReSearch=void 0==e,(e>=10||t>=20)&&(t=20),F()}),1500)};M.user&&$();const F=()=>{j().get("/api/report/my").then((e=>{e.data||((void 0).message="No Reports to show"),I.rows=e.data.data,I.totalRecordCount=e.data.data.length,I.sortable.order="name",I.sortable.sort="asc"})).catch((e=>{console.log(e)})).finally((()=>{I.isLoading=!1}))};var K=(0,r.aZ)({name:"App",components:{TableLite:G.Z},setup(){return{table:I,doSearch:$}}});const Y=(0,T.Z)(K,[["render",W]]);var B=Y;const J="Select a report type..",Q="Select a currency..";var X=(0,r.aZ)({name:"MyReports",components:{vSelect:q(),TableView2:B},props:{currencies:{type:[Array],default:function(){}}},data:()=>({auth:M,message:"",reportsMessage:"",selected:J,reportTypes:[],user:{},report:{currency:Q,type:1},currenciesLoading:!0,reportTypesLoading:!0}),created(){this.getReportTypes()},methods:{saveReport(){j().post("/api/report/submit",{currency:this.report.currency.value,type:this.selected.value}).then((({data:e})=>{e||(this.message="error"),this.message=e.message;let t=this;setTimeout((function(){t.refreshGenerateForm()}),3e3)})).catch((e=>{this.message=e}))},getReportTypes(){j().get("/api/report-types").then((({data:e})=>{e||(this.message="No Reports to show"),this.reportTypes=e,this.reportTypesLoading=!1,this.currenciesLoading=!1})).catch((e=>{this.message=e}))},refreshGenerateForm(){this.report.currency=J,this.selected=Q,this.message=""}}});const ee=(0,T.Z)(X,[["render",A]]);var te=ee;const se={class:"px-4 py-6 sm:px-0"},oe={class:"text-center"},re={key:0},ne={key:1},ae={class:"select-dropdown"};var le={__name:"HomePage",setup(e){const t=(0,H.iH)(5),s=((0,H.iH)(M.user),(0,H.iH)([]));let a=(0,H.iH)([]);const l=(0,H.iH)([]);let i=(0,H.iH)("");const u=(0,H.iH)(a.value.length>0),c=((0,H.iH)(M.user.value),(0,H.iH)(!0)),d=()=>{const e={currencies:[]};l.value.forEach((t=>{e.currencies.push(t)})),j().post("/api/setting/store",e).then((e=>{i.value="Settings Saved!.... redirecting",u.value=!0,p()})).catch((e=>{i.value=e.message}))},g=e=>{const t=Object.keys(e.currencies);t.forEach((t=>{let o={label:e.currencies[t],value:t};s.value.push(o)}))},p=()=>{j().get("/api/setting/my-currencies").then((({data:e})=>{e||(i="No Currencies to show"),a.value=e.data,u.value=a.value.length>0})).catch((e=>{this.message=e}))},m=()=>{j().get("/api/currency/list").then((({data:e})=>{e.message?i.value=e.message:e?g(e):i.value="no response from list endpoint"})).catch((e=>{i.value=e})).finally((()=>{c.value=!1}))};return p(),u.value||m(),(e,g)=>((0,r.wg)(),(0,r.iD)("main",null,[(0,r._)("div",se,[(0,r._)("div",oe,[u.value?((0,r.wg)(),(0,r.iD)("div",re,[(0,r.Wm)((0,H.SU)(te),{currencies:(0,H.SU)(a)},null,8,["currencies"])])):((0,r.wg)(),(0,r.iD)("div",ne,[(0,r._)("h2",null,"Please select "+(0,n.zw)(t.value)+" currencies to use for conversions.",1),(0,r._)("div",ae,[(0,r.Wm)((0,H.SU)(q()),{modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=e=>l.value=e),loading:c.value,placeholder:"Select...",multiple:"",options:s.value,selectable:()=>l.value.length<t.value},null,8,["modelValue","loading","options","selectable"]),(0,r._)("div",null,"Currencies Selected: "+(0,n.zw)(l.value.length),1),(0,r._)("div",null,(0,n.zw)((0,H.SU)(i)),1),(0,r.wy)((0,r._)("div",null,[l.value.length===t.value?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"flex bg-gray-800 items-center justify-center m-2 px-8 py-1 text-base text-white font-medium leading-6 text-black transition duration-150 ease-in-out bg-dark border-transparent rounded-md focus:outline-none focus:ring md:py-4 md:text-lg md:px-10",onClick:d}," Save my Currencies ")):(0,r.kq)("",!0)],512),[[o.F8,l.value.length]])])]))])])]))}};const ie=le;var ue=ie;const ce={class:"px-4 py-6 sm:px-0"},de={key:0,class:"p-4 text-center text-gray-400 border-4 border-gray-200 border-dashed rounded-lg h-96"},ge=(0,r.Uk)(" You are already logged in.. "),pe=(0,r.Uk)(" Generate Report "),me={key:1,class:"p-4 text-center text-gray-400 border-gray-100 rounded-lg h-96 w-500 login"},he={class:"form"},fe=(0,r._)("h1",null,"Login",-1),ve={class:"form-group"},we=(0,r._)("label",{for:"email"},"Email",-1),xe={class:"form-group"},ye=(0,r._)("label",{for:"password"},"Password",-1),be={class:"form-group"},_e=(0,r._)("div",{class:"label"},null,-1),ke=(0,r._)("div",{class:"label"},null,-1),Se={class:"message"},Ce=(0,r._)("div",{class:"form-group"},[(0,r._)("div",{class:"label"}),(0,r._)("div",{class:"message text-xs"},[(0,r.Uk)(" No login? "),(0,r._)("a",{href:"/register"},"Register")])],-1),Re=(0,r._)("div",null,null,-1);function De(e,t,s,a,l,i){const u=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("main",null,[(0,r._)("div",ce,[i.showLogin?((0,r.wg)(),(0,r.iD)("div",me,[(0,r._)("div",he,[fe,(0,r._)("div",ve,[we,(0,r.wy)((0,r._)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.user.email=e),type:"email"},null,512),[[o.nr,l.user.email]])]),(0,r._)("div",xe,[ye,(0,r.wy)((0,r._)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.user.password=e),type:"password"},null,512),[[o.nr,l.user.password]])]),(0,r._)("div",be,[_e,(0,r._)("button",{class:"submit cursor-pointer rounded-none px-10 bg-gray-400 text-white",onClick:t[2]||(t[2]=(...e)=>i.login&&i.login(...e))}," Submit "),ke,(0,r._)("div",Se,(0,n.zw)(l.message),1)]),Ce])])):((0,r.wg)(),(0,r.iD)("div",de,[ge,(0,r.Wm)(u,{to:"/",class:"text-indigo-600 underline hover:text-indigo-500"},{default:(0,r.w5)((()=>[pe])),_:1})]))])]),Re],64)}var je={data(){return{message:"",user:{email:"",password:""}}},computed:{showLogin(){const e=M.check();return!e}},methods:{login(){j().post("/api/auth/login",this.user).then((({data:e})=>{M.setUser(e.access_token,e.user),this.$router.push("/")})).catch((e=>{this.message=e.response.data.error}))}}};const Le=(0,T.Z)(je,[["render",De]]);var Me=Le;const Ue={class:"p-4 text-center text-gray-400 border-gray-100 rounded-lg h-96 w-500 login"},Te={class:"form"},Oe=(0,r._)("h1",null,"Register",-1),Ve={class:"form-group"},He=(0,r._)("label",{for:"name"},"Name",-1),Pe={class:"form-group"},qe=(0,r._)("label",{for:"email"},"Email",-1),ze={class:"form-group"},Ze=(0,r._)("label",{for:"password"},"Password",-1),Ne={class:"form-group"},Ee=(0,r._)("label",{for:"password_confirmation"},"Confirm",-1),Ae={class:"form-group"},We=(0,r._)("div",{class:"label"},null,-1),Ge=(0,r._)("div",{class:"label"},null,-1),Ie={class:"message"};function $e(e,t,s,a,l,i){return(0,r.wg)(),(0,r.iD)("div",Ue,[(0,r._)("div",Te,[Oe,(0,r._)("div",Ve,[He,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.user.name=e),type:"text"},null,512),[[o.nr,l.user.name]])]),(0,r._)("div",Pe,[qe,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.user.email=e),type:"text"},null,512),[[o.nr,l.user.email]])]),(0,r._)("div",ze,[Ze,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.user.password=e),type:"password"},null,512),[[o.nr,l.user.password]])]),(0,r._)("div",Ne,[Ee,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.user.password_confirmation=e),type:"password"},null,512),[[o.nr,l.user.password_confirmation]])]),(0,r._)("div",Ae,[We,(0,r._)("button",{class:"submit cursor-pointer rounded-none px-10 bg-gray-400 text-white",value:"",onClick:t[4]||(t[4]=e=>i.register())}," Register "),Ge,(0,r._)("div",Ie,(0,n.zw)(e.message),1)])])])}var Fe={data(){return{user:{name:"",email:"",password:"",password_confirmation:"",message:[]}}},methods:{register(){j().post("/api/auth/register",this.user).then((()=>{this.$router.push("/login")})).catch((e=>{console.log(e.response.data.errors),this.message=e.response.data.errors}))}}};const Ke=(0,T.Z)(Fe,[["render",$e]]);var Ye=Ke;const Be={class:"px-4 py-6 mt-10 sm:px-0 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28"},Je=(0,r._)("div",{class:"sm:text-center lg:text-left"},[(0,r._)("h2",{class:"text-4xl font-extrabold leading-10 tracking-tight text-gray-900 sm:text-5xl sm:leading-none md:text-6xl"}," Not found "),(0,r._)("p",{class:"mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0"}," The page you requested doesn't seem to exist... ")],-1),Qe=[Je];function Xe(e,t){return(0,r.wg)(),(0,r.iD)("div",Be,Qe)}const et={},tt=(0,T.Z)(et,[["render",Xe]]);var st=tt;let ot=[{path:"/",component:ue,meta:{title:"Home",requiresAuth:!0}},{path:"/login",component:Me,meta:{title:"Login"}},{path:"/register",component:Ye,meta:{title:"Register"}},{path:"/:path(.*)",component:st}];var rt=s(119);let nt=(0,o.ri)(V),at=(0,rt.p7)({history:(0,rt.PO)(),routes:ot});at.beforeEach((e=>{if(e.matched.some((e=>e.meta.requiresAuth))&&!M.check())return"/login"})),window.routerInstance=at,nt.use(at),nt.mount("#app")}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,o,r,n){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],n=e[c][2];for(var l=!0,i=0;i<o.length;i++)(!1&n||a>=n)&&Object.keys(s.O).every((function(e){return s.O[e](o[i])}))?o.splice(i--,1):(l=!1,n<a&&(a=n));if(l){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,r,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,n,a=o[0],l=o[1],i=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(i)var c=i(s)}for(t&&t(o);u<a.length;u++)n=a[u],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},o=self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(732)}));o=s.O(o)})();
//# sourceMappingURL=app.9c216375.js.map